$(".foreground_image").css('visibility', 'visible').addClass("animated fadeIn");
$(".text_log").css('visibility', 'visible').addClass("animated fadeIn");
// show foregroud png on section load

<% 3.times do |i| %>
	setTimeout(
		function() {
		<% if i != 2 %>
			backgroundOut(<%= i %>);
		<% end %>
		// keep last background from remove timer
		var background = $('.background_image');

		if (background.hasClass("animated fadeOutRight")) {
			background.removeClass("animated fadeOutRight");
		}
		// remove the hide animation if the object has it

		<% if i == 2 %>
		setTimeout(
			function() {
			$("#checkbox_0").prop('checked', true);
			$(".load_container").css('visibility', 'visible').addClass("animated fadeIn");
		}, 800);
		<% end %>

		background.css('background-image','url(/assets/background<%= i %>.png)').addClass("animated fadeInLeft");
		// replace background image with next in index while adding animation
		}, 
	<%= 2000*(i) + 2000 %>);
	// sequence 2, 4, 6 s timeout
<% end %> 

function backgroundOut(i) {
	setTimeout(
		function() {
			$(".background_image")
			.removeClass("animated fadeInLeft")
			.addClass("animated fadeOutRight"); },
			// remove in animation and add out animation
	1400);
}

setTimeout(
	function() {
		$.get("/pages/process_image", { 
		});
		$("#checkbox_1").prop('checked', true);
	}, 8200
);
// Queue background job and check the first checkbox after 8.2s

